{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst apiKey = '38212376-ffcb529addc704f756c0c7d48';\nconst baseURL = 'https://pixabay.com/api/';\naxios.defaults.baseURL = baseURL;\n\nexport const getImagesByQuery = async (query) => {\n  try {\n    const response = await axios.get('', {\n      params: {\n        key: apiKey,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n};","import simpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryContainer = document.querySelector('.gallery');\n\nexport function createGallery(images) {\n  const markup = images.map(image => createImageMarkup(image)).join('');\n  galleryContainer.innerHTML = markup;\n\n  const lightbox = new simpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    scrollZoom: false,\n  });\n  lightbox.refresh();\n\n  return lightbox;\n};\n\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n  // const lightbox = simpleLightbox.instances[0];\n  // if (lightbox) {\n  //   lightbox.destroy();\n  // }\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('hidden');\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('hidden');\n  }\n}\n\nfunction createImageMarkup({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n  return `<li class=\"gallery__item\">\n    <a class=\"gallery__link\" href=\"${largeImageURL}\">\n      <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b> <span>${likes}</span>\n          </p>\n          <p class=\"info-item\">\n          <b>Views</b> <span>${views}</span>\n          </p>\n          <p class=\"info-item\">\n          <b>Comments</b> <span>${comments}</span>\n          </p>\n          <p class=\"info-item\">\n          <b>Downloads</b> <span>${downloads}</span>\n          </p>\n          </div>\n          </li>`;\n}","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchForm = document.querySelector('.form');\n\nsearchForm.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  const query = searchForm.elements[\"search-text\"].value;\n  if (!query) {\n    showError('Please enter a search query.');\n    return;\n  }\n\n  showLoader();\n  clearGallery();\n\n  try {\n    const data = await getImagesByQuery(query);\n    if (data.hits.length === 0) {\n      showError('Sorry, there are no images matching your search query. Please try again!');\n      hideLoader();\n      event.target.reset();\n      return;\n    }\n\n    createGallery(data.hits);\n  } catch (error) {\n    showError('An error occurred while fetching images. Please try again later.');\n  } finally {\n    hideLoader();\n  }\n\n  event.target.reset();\n});\n\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n    timeout: 3000,\n    transitionIn: 'fadeInDown',\n    transitionOut: 'fadeOutUp',\n    close: true,\n    color: '#EF4040',\n    titleColor: '#FAFAFB',\n    messageColor: '#FAFAFB',\n    iconColor: '#FAFAFB',\n  });\n}"],"names":["apiKey","baseURL","axios","getImagesByQuery","query","error","galleryContainer","createGallery","images","markup","image","createImageMarkup","lightbox","simpleLightbox","clearGallery","showLoader","loader","hideLoader","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","event","showError","data","message","iziToast"],"mappings":"owBAEA,MAAMA,EAAS,qCACTC,EAAU,2BAChBC,EAAM,SAAS,QAAUD,EAElB,MAAME,EAAmB,MAAOC,GAAU,CAC/C,GAAI,CASF,OARiB,MAAMF,EAAM,IAAI,GAAI,CACnC,OAAQ,CACN,IAAKF,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,YACd,CACP,CAAK,GACe,IACjB,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,EClBMC,EAAmB,SAAS,cAAc,UAAU,EAEnD,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IAAIE,GAASC,EAAkBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACpEJ,EAAiB,UAAYG,EAE7B,MAAMG,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,WAAY,EAChB,CAAG,EACD,OAAAD,EAAS,QAAO,EAETA,CACT,CAEO,SAASE,GAAe,CAC7BR,EAAiB,UAAY,EAK/B,CAEO,SAASS,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,OAAO,QAAQ,CAEpC,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,IAAI,QAAQ,CAEjC,CAEA,SAASL,EAAkB,CAAC,aAAAO,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CACjG,MAAO;AAAA,qCAC4BL,CAAa;AAAA,yCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,+BAIpCC,CAAK;AAAA;AAAA;AAAA,+BAGLC,CAAK;AAAA;AAAA;AAAA,kCAGFC,CAAQ;AAAA;AAAA;AAAA,mCAGPC,CAAS;AAAA;AAAA;AAAA,gBAI5C,CCxDA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAEjDA,EAAW,iBAAiB,SAAU,MAAOC,GAAU,CACrDA,EAAM,eAAc,EAEpB,MAAMtB,EAAQqB,EAAW,SAAS,aAAa,EAAE,MACjD,GAAI,CAACrB,EAAO,CACVuB,EAAU,8BAA8B,EACxC,MACD,CAEDZ,IACAD,IAEA,GAAI,CACF,MAAMc,EAAO,MAAMzB,EAAiBC,CAAK,EACzC,GAAIwB,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAU,0EAA0E,EACpFV,IACAS,EAAM,OAAO,QACb,MACD,CAEDnB,EAAcqB,EAAK,IAAI,CACxB,MAAe,CACdD,EAAU,kEAAkE,CAChF,QAAY,CACRV,GACD,CAEDS,EAAM,OAAO,OACf,CAAC,EAED,SAASC,EAAUE,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,WACV,QAAS,IACT,aAAc,aACd,cAAe,YACf,MAAO,GACP,MAAO,UACP,WAAY,UACZ,aAAc,UACd,UAAW,SACf,CAAG,CACH"}